{
  "$schema": "https://ui.shadcn.com/schema/registry-item.json",
  "name": "calendar",
  "type": "registry:block",
  "title": "Calendar",
  "description": "A calendar component with presets support",
  "dependencies": [
    "react-day-picker",
    "dayjs"
  ],
  "registryDependencies": [
    "button",
    "calendar"
  ],
  "files": [
    {
      "path": "registry/components/calendar/calendar.tsx",
      "content": "import { Calendar as BaseCalendar } from \"@/components/ui/calendar\";\nimport { Button } from \"@/components/ui/button\";\nimport { cn } from \"@/lib/utils\";\nimport { ComponentProps, useState } from \"react\";\nimport type {\n  PropsMultiRequired,\n  PropsRangeRequired,\n  PropsSingleRequired,\n} from \"react-day-picker\";\n\n// Calendar 的选择模式\nexport type CalendarMode = \"single\" | \"multiple\" | \"range\";\n\nexport type CalendarPreset<TMode extends CalendarMode> = {\n  label: string;\n  value: TMode extends \"single\"\n    ? PropsSingleRequired[\"selected\"]\n    : TMode extends \"multiple\"\n      ? PropsMultiRequired[\"selected\"]\n      : TMode extends \"range\"\n        ? PropsRangeRequired[\"selected\"]\n        : never;\n};\n\nexport type CalendarProps<TMode extends CalendarMode> = ComponentProps<\n  typeof BaseCalendar\n> & {\n  mode: TMode;\n  presets?: CalendarPreset<TMode>[];\n};\n\nexport const Calendar = <TMode extends CalendarMode>({\n  className,\n  presets,\n  ...props\n}: CalendarProps<TMode>) => {\n  const { onSelect } = props;\n\n  const [month, setMonth] = useState<Date>();\n\n  return (\n    <div\n      className={cn(\n        \"bg-background flex w-fit divide-x overflow-hidden\",\n        className,\n      )}\n    >\n      {presets && presets.length > 0 && (\n        <div className=\"flex flex-col gap-2 p-3\">\n          {presets.map((preset, index) => (\n            <Button\n              key={index}\n              variant=\"ghost\"\n              size=\"sm\"\n              className=\"justify-start text-[0.8rem] font-normal\"\n              onClick={() => {\n                if (onSelect) {\n                  setMonth(\n                    preset.value instanceof Date ? preset.value : undefined,\n                  );\n                  (onSelect as any)(preset.value);\n                }\n              }}\n            >\n              {preset.label}\n            </Button>\n          ))}\n        </div>\n      )}\n\n      <BaseCalendar\n        month={month}\n        onMonthChange={(value) => setMonth(value)}\n        {...props}\n      />\n    </div>\n  );\n};\n",
      "type": "registry:component",
      "target": "components/turboost-ui/calendar/calendar.tsx"
    }
  ]
}